-- phpMyAdmin SQL Dump
-- version 4.8.3
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Oct 03, 2022 at 12:45 PM
-- Server version: 10.1.36-MariaDB
-- PHP Version: 7.2.10

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `new pharmacy`
--

DELIMITER $$
--
-- Procedures
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `COMP` ()  SELECT * FROM company$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `company`
--

CREATE TABLE `company` (
  `BID` int(11) NOT NULL,
  `NAME` varchar(30) COLLATE latin1_general_cs DEFAULT NULL,
  `BLOCATION` varchar(100) COLLATE latin1_general_cs DEFAULT NULL,
  `PHONE` varchar(11) COLLATE latin1_general_cs DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COLLATE=latin1_general_cs;

--
-- Dumping data for table `company`
--

INSERT INTO `company` (`BID`, `NAME`, `BLOCATION`, `PHONE`) VALUES
(1, 'HEALTH HUB KENGERI', '# 70 HOYSALA CIRCLE,KENGERI SATELITE,BENGALURU-560060,Karnataka.\r\n', '08023241281'),
(2, 'HEALTH HUB BANASHANKARI', '#55, MARIYAPPA ROAD, BANASHANKARI,\r\nBENAGALURU-560070 KARNATAKA.', '08057348534'),
(3, 'HEALTH HUB PADMANABH', '# 27 REVENUE LAYOUT,PADMANABHANAGAR,KOCHI-5600070,Kerala.', '08042228181'),
(4, 'HEALTH HUB TRIVANDRUM', '#385, ADAYAMON NEAR ALAMCODE PO, \r\nTRIVANDRAM-695607, KERALA.', '08076546784'),
(5, 'HEALTH HUB JAYANAGAR', '# 49|3 S KARIYAPPA ROAD,KANAKAPURA ROAD,JAYANAGAR,TRICHY-560082,Tamil Nadu.', '08022957626'),
(6, 'HEALTH HUB VELLORE', '#90, SATHUVACHARI, VELLORE-632011,\r\nTAMIL NADU.', '08091237653'),
(7, 'HEALTH HUB KORMANAGALA', '# 12,1ST ROAD 1S BLOCK KORAMANGALA VIJAYWADA-560034,ANDHRA PRADESH.', '04067006700'),
(8, 'HEALTH HUB THIRUPATHI', '#123, NEAR THIRUPATHI RAILWAY STATION, THIRUPATHI-517101, ANDHRA PRADESH.', '08093456387'),
(9, 'HEALTH HUB JPNAGAR', '#718,HARSHA PLAZA,24TH MAIN ROAD,26 PHASE J.P NAGAR HYDERBAD-560078, TELANGANA.', '04067006700'),
(10, 'HEALTH HUB SURYAPET', '#787, NEAR GOVERNMENT GENERAL HOSPITAL,\r\n SURAYAPET-508213, TELANGANA.\r\n', '08076384625');

-- --------------------------------------------------------

--
-- Table structure for table `customer`
--

CREATE TABLE `customer` (
  `CID` int(11) NOT NULL,
  `CUSTOMER_NAME` varchar(20) COLLATE latin1_general_cs NOT NULL,
  `CUSTOMER_PHONE` varchar(20) COLLATE latin1_general_cs NOT NULL,
  `BILL_DATE` date DEFAULT NULL,
  `AMOUNT` int(11) NOT NULL,
  `BID` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COLLATE=latin1_general_cs;

--
-- Dumping data for table `customer`
--

INSERT INTO `customer` (`CID`, `CUSTOMER_NAME`, `CUSTOMER_PHONE`, `BILL_DATE`, `AMOUNT`, `BID`) VALUES
(1, 'AARUSHI', '974088690', '2022-05-11', 567, 3),
(2, 'AARAV', '6749784312', '2022-03-02', 1078, 9),
(3, 'SAANVI', '7478907891', '2021-11-29', 360, 1),
(4, 'IRISHA', '8432396473', '2022-07-31', 192, 5),
(5, 'DARSH', '6743694318', '2022-07-07', 2330, 7),
(6, 'NEHA', '9124567890', '2022-02-21', 1200, 4),
(7, 'SHALENA', '7432432101', '2021-09-09', 453, 5),
(8, 'PRASAD', '6434567123', '2022-01-31', 650, 3),
(9, 'SHANTAI', '7345676795', '2021-12-02', 1750, 9),
(10, 'AMATA', '9214567999', '2021-11-15', 2500, 7),
(11, 'DRISANA', '8145567990', '2022-05-16', 3000, 8),
(12, 'HANSIKA', '8445567891', '2022-06-25', 1100, 7),
(13, 'ANGEE', '9134577898', '2021-07-26', 600, 7),
(14, 'RAJESH', '9245678991', '2021-11-30', 759, 1),
(15, 'JENIKA', '9123145678', '2022-04-29', 1450, 2),
(16, 'RAMYA', '9875643459', '2022-06-09', 5000, 2),
(17, 'JANAVI', '9865763877', '2020-12-12', 500, 4),
(18, 'NITHIN', '8736452736', '2022-07-08', 200, 6),
(19, 'SURYA', '9876543234', '2022-01-02', 455, 8),
(20, 'KAI', '8431309875', '2022-08-11', 8000, 10);

-- --------------------------------------------------------

--
-- Table structure for table `delivers`
--

CREATE TABLE `delivers` (
  `NAME` varchar(50) COLLATE latin1_general_cs NOT NULL,
  `BARCODE` varchar(10) COLLATE latin1_general_cs NOT NULL,
  `D_DATE` date NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COLLATE=latin1_general_cs;

--
-- Dumping data for table `delivers`
--

INSERT INTO `delivers` (`NAME`, `BARCODE`, `D_DATE`) VALUES
('BIOCON LIMITED', '3A8567', '2022-02-00'),
('DR REDDYS LABORATORIES LIMITED', '2C9980', '2020-04-00'),
('ELITE PHARMA PRIVATED LIMITED', '1A5002', '2021-04-00'),
('FIDELITY LIFE SCIENCES PRIVATED LIMITED', '1G6001', '2022-11-00'),
('SUN PHARMACEUTICAL INDUSTRIES LIMITED', '4S9456', '2021-06-00');

-- --------------------------------------------------------

--
-- Table structure for table `drugs`
--

CREATE TABLE `drugs` (
  `BARCODE` varchar(10) COLLATE latin1_general_cs NOT NULL,
  `NAME` varchar(30) COLLATE latin1_general_cs DEFAULT NULL,
  `DOSE` decimal(10,0) DEFAULT NULL,
  `TRADE_PRICE` float DEFAULT NULL,
  `QUANTITY` int(11) DEFAULT NULL,
  `NO_OF_SHEETS` int(10) NOT NULL,
  `PRODUCTION_DATE` date DEFAULT NULL,
  `EXPIRY_DATE` date DEFAULT NULL,
  `D_ADDRESS` varchar(100) COLLATE latin1_general_cs NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COLLATE=latin1_general_cs;

--
-- Dumping data for table `drugs`
--

INSERT INTO `drugs` (`BARCODE`, `NAME`, `DOSE`, `TRADE_PRICE`, `QUANTITY`, `NO_OF_SHEETS`, `PRODUCTION_DATE`, `EXPIRY_DATE`, `D_ADDRESS`) VALUES
('1A5002', 'AMOXILITE', '250', 347.55, 20, 500, '2021-02-00', '2022-01-00', 'ELITE PHARMA PVT LTD,\r\nGUJARAT INDIA.'),
('1G6001', 'GLIFID M 80', '80', 64.45, 10, 1000, '2022-10-00', '2023-09-00', 'FIDELITY LIFE SCIENCE PVT LTD,\r\nMAHARASHTRA, INDIA.'),
('1MT12', 'ALPHA', '260', 180, 20, 500, '2022-07-00', '2022-12-00', 'BIOCON LTD,KARNATAKA, INDIA'),
('2C9980', 'COLAZAL', '750', 137, 15, 750, '2020-03-00', '2023-02-00', 'DR. REDDYS LABARATORIES LTD,\r\nTELANGANA, INDIA'),
('3A8567', 'ALCOLIV', '500', 175.88, 15, 1000, '2022-01-00', '2023-12-00', 'BIOCON LTD,\r\nKARNATAKA, INDIA'),
('4S9456', 'SPORIDEX', '100', 44.1, 10, 1500, '2021-05-00', '2024-04-00', 'SUN PHARAMACEUTICALS INDUSTRIES LTD,\r\nMAHARASHTRA, INDIA.');

--
-- Triggers `drugs`
--
DELIMITER $$
CREATE TRIGGER `TRI_D1` BEFORE INSERT ON `drugs` FOR EACH ROW SET NEW.NAME=UPPER(NEW.NAME)
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `TRI_INSERT` AFTER INSERT ON `drugs` FOR EACH ROW INSERT INTO LOGS VALUES(NULL,NEW.NAME,NULL,NULL,NULL,NEW.NO_OF_SHEETS,NOW(),NOW(),'inserted')
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `employee`
--

CREATE TABLE `employee` (
  `EID` varchar(10) COLLATE latin1_general_cs NOT NULL,
  `NAME` varchar(20) COLLATE latin1_general_cs DEFAULT NULL,
  `JOB` varchar(20) COLLATE latin1_general_cs DEFAULT NULL,
  `PHONE` varchar(11) COLLATE latin1_general_cs DEFAULT NULL,
  `EMAIL` varchar(20) COLLATE latin1_general_cs NOT NULL,
  `PASSWORD` varchar(10) COLLATE latin1_general_cs NOT NULL,
  `SALARY` int(11) DEFAULT NULL,
  `DOB` date DEFAULT NULL,
  `ADDRESS` varchar(80) COLLATE latin1_general_cs DEFAULT NULL,
  `BID` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COLLATE=latin1_general_cs;

--
-- Dumping data for table `employee`
--

INSERT INTO `employee` (`EID`, `NAME`, `JOB`, `PHONE`, `EMAIL`, `PASSWORD`, `SALARY`, `DOB`, `ADDRESS`, `BID`) VALUES
('10M23', 'YAMINI', 'MANAGER', '6789543786', 'yamini@gmail.com', '10M123', 40000, '1979-10-10', '#210, NEAR HR PLAZA,\r\nSURYAPET-508213.', 10),
('10P66', 'AMRUTH', 'PHARMACIST', '8764536782', 'amruth@gmail.com', '10P123', 30000, '1990-09-25', '#22, NEAR MG MARKET,\r\nSURYAPET-508213.', 10),
('1M58', 'ISHAAN', 'MANAGER', '9040501230', 'ishaan24@gmail.com', '1M123', 40000, '1985-05-04', '2ND STAGE,ULLAL,BENGALURU-560060', 1),
('1P84', 'JAI', 'PHARMACIST', '9994567890', 'jai23@gmail.com', '1P123', 30000, '1987-07-07', '5TH STAGE KENGERI BENGALURU-560060', 1),
('2M34', 'AKASH', 'MANAGER', '7654893542', 'akash@gmail.com', '2M123', 41000, '1985-06-16', '#55, BANKCOLONY, BANASHANKARI, \r\nBENGALURU-560070.', 2),
('2P98', 'AMAN', 'PHARMACIST', '6785456790', 'aman@gmail.com', '2P123', 32000, '1988-12-01', '#343, HOSAKEREHALLI, BANASHANKARI,\r\nBENGALURU-560070.', 2),
('3M98', 'KARAN', 'MANAGER', '8749667780', 'karan56@gmail.com', '3M123', 45000, '1975-02-21', '1ST STAGE,KAATTATIGUPPA,KOCHI-560070', 3),
('3P55', 'AMAR', 'PHARMACIST', '6747789123', 'amar67@gmail.com', '3P123', 31000, '1986-10-24', '2ND STAGE,KAMAKYA,KOCHI-560070', 3),
('4M11', 'YAGNA', 'MANAGER', '6784579828', 'yagna@gmail.com', '4M123', 40000, '1979-02-12', '#99, NEAR ALAMCODE POST OFFICE,\r\nTRIVANDRUM-695656.', 4),
('4P55', 'YUKTHI', 'PHARMACIST', '7865467865', 'yukthi@gmail.com', '4P123', 35000, '1988-11-27', '#45, NEAR ADAYAMON BANK,\r\n TRIVANDRAM-695656.', 4),
('5M76', 'AGASTYA', 'MANAGER', '9232623261', 'agastya90@gmail.com', '5M123', 41000, '1992-08-21', '1ST STAGE,TILAKNAGAR,TRICHY-560082', 5),
('5P77', 'ANYA', 'PHARMACIST', '6740740772', 'anya123@gmail.com', '5P123', 31000, '1997-09-30', '2ND STAGE,JAYANAGAR,TRICHY-560082', 5),
('6M23', 'HEMASHREE', 'MANAGER', '812345665', 'hemashree@gmail.com', '6M123', 40000, '1990-07-07', '#45, NEAR PUDDUKOTAI, VELLORE-632011,\r\nTAMIL NADU.', 6),
('6P12', 'RISHITHA', 'PHARMACIST', '8678901234', 'rishi@gmail.com', '6P123', 30000, '1980-05-05', '#12 MVG COLLEGE ROAD,VELLORE-632011,\r\nTAMIL NADU', 6),
('7M59', 'TAMIA', 'MANAGER', '7825628915', 'tamia789@gmail.com', '7M123', 42000, '1985-01-04', '6TH STAGE,VIVEKNAGAR,VIJAYAWADA-560034', 7),
('7P66', 'SHAAN', 'PHARMACIST', '9967675432', 'shaan59@gmail.com', '7P123', 30000, '1996-03-26', '2ND STAGE,BTM LAYOUT,VIJAYAWADA-560034', 7),
('8M45', 'DIVYA', 'MANAGER', '7896543678', 'divya@gmail.com', '8M123', 400000, '1980-09-09', '#478, NEAR THIRUPATHI RAILWAY STATION, ANDHRA PRADESH-66003', 8),
('8P32', 'ESHA', 'PHARAMACIST', '6754356789', 'esha@gmail.com', '8P123', 30000, '1970-06-01', '#455 VIJAYNAGAR, ANDHRA PRADESH-66003', 8),
('9M77', 'DEVAN', 'MANAGER', '88453213245', 'devan345@gmail.com', '9M123', 43270, '1980-05-17', '3RD STAGE,KUMARSWAMT LAYOUT,HYDERBAD-560078', 9),
('9P99', 'SITARA', 'PHARMACIST', '9432112316', 'sitara890@gmail.com', '9P123', 31720, '1992-07-27', '2ND STAGE,BANSHAKARI,HYDERBAD-560078', 9);

-- --------------------------------------------------------

--
-- Table structure for table `logs`
--

CREATE TABLE `logs` (
  `BARCODE` varchar(10) NOT NULL,
  `NAME` varchar(30) NOT NULL,
  `DOSE` decimal(10,0) NOT NULL,
  `TRADE_PRICE` float NOT NULL,
  `QUANTITY` int(11) NOT NULL,
  `NO_OF_SHEETS` int(11) NOT NULL,
  `D_DATE` date NOT NULL,
  `E_DATE` date NOT NULL,
  `ACTION` varchar(30) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Table structure for table `pharmaceutical_company`
--

CREATE TABLE `pharmaceutical_company` (
  `NAME` varchar(50) COLLATE latin1_general_cs NOT NULL,
  `PHONE` varchar(30) COLLATE latin1_general_cs DEFAULT NULL,
  `P_LOCATION` varchar(100) COLLATE latin1_general_cs DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COLLATE=latin1_general_cs;

--
-- Dumping data for table `pharmaceutical_company`
--

INSERT INTO `pharmaceutical_company` (`NAME`, `PHONE`, `P_LOCATION`) VALUES
('BIOCON LIMITED', '91 80 2808 2808', '20KM,HOSUR ROAD,ELECTRONIC CITY,BENGALURU-560100,KARNATAKA,INDIA'),
('DR REDDYS LABORATORIES LIMITED', '914049002900', '8-2-337,ROAD NO-3,BANJARA HILLS,HYDERBAD TELANGANA-500034,INDIA'),
('ELITE PHARMA PRIVATED LIMITED', '7925831668', '1210|11|12 G.I.D.C.,PHASE |||,VATVA,AHMEDEBAD-382445,GUJARAT,INDIA'),
('FIDELITY LIFE SCIENCES PRIVATED LIMITED', '2007249232', '17|28,NSG 17 PARK,IIT ROAD,ABOVE CROMA,AWDH PUNE 411007,INDIA'),
('SUN PHARMACEUTICAL INDUSTRIES LIMITED', '912243244324', 'SUN HOUSE,CTS NO.201B|1,WESTERN EMPREOR HIGHWAY,GOREGEON(E) MUMBAI 400063,INDIA');

-- --------------------------------------------------------

--
-- Table structure for table `received`
--

CREATE TABLE `received` (
  `BID` int(11) NOT NULL,
  `BARCODE` varchar(10) NOT NULL,
  `R_DATE` date NOT NULL,
  `B_ADDRESS` varchar(100) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `received`
--

INSERT INTO `received` (`BID`, `BARCODE`, `R_DATE`, `B_ADDRESS`) VALUES
(1, '3A8567', '2022-02-00', 'HEALTH HUB KENGERI, KARANATAKA'),
(1, '2C9980', '2020-05-00', 'HEALTH HUB KENGERI, KARANATAKA'),
(3, '1A5002', '2021-07-00', 'HEALTH HUB PADMANABHANAGAR, KERALA'),
(3, '2C9980', '2020-06-00', 'HEALTH HUB PADMANABHANAGAR, KERALA'),
(3, '4S9456', '2021-06-00', 'HEALTH HUB PADMANABHANAGAR, KERALA'),
(5, '1G6001', '2022-12-00', 'HEALTH HUB JAYANAGAR, TAMIL NADU'),
(7, '1A5002', '2021-06-00', 'HEALTH HUB KORMANGALA, ANDHRA PRADESH'),
(7, '1G6001', '2022-12-00', 'HEALTH HUB KORMANGALA, ANDHRA PRADESH'),
(9, '1G6001', '2022-01-00', 'HEALTH HUB JPNAGAR, TELANGANA'),
(9, '2C9980', '2022-04-00', 'HEALTH HUB JPNAGAR, TELANGANA'),
(9, '3A8567', '2022-03-00', 'HEALTH HUB JPNAGAR, TELANGANA'),
(9, '4S9456', '2021-06-00', 'HEALTH HUB JPNAGAR, TELANGANA'),
(2, '1A5002', '2021-06-00', 'HEALTH HUB BANASHANKARI, KARANATAKA'),
(2, '2C9980', '2020-05-00', 'HEALTH HUB BANASHANKARI, KARANATAKA'),
(4, '1G6001', '2022-12-00', 'HEALTH HUB TRIVANDRUM, KERALA'),
(4, '3A8567', '2022-03-00', 'HEALTH HUB TRIVANDRUM, KERALA'),
(4, '4S9456', '2021-08-00', 'HEALTH HUB TRIVANDRUM, KERALA'),
(6, '2C9980', '2020-05-00', 'HEALTH HUB VELLORE, TAMIL NADU'),
(6, '3A8567', '2022-03-00', 'HEALTH HUB VELLORE, TAMIL NADU'),
(8, '1A5002', '2021-06-00', 'HEALTH HUB THIRUPATHI, ANDHRA PRADESH'),
(8, '1G6001', '2022-12-00', 'HEALTH HUB THIRUPATHI, ANDHRA PRADESH'),
(10, '4S9456', '2021-08-00', 'HEALTH HUB SURYAPET, TELANGANA'),
(10, '3A8567', '2022-03-00', 'HEALTH HUB SURYAPET, TELANGANA'),
(10, '2C9980', '2020-04-00', 'HEALTH HUB SURYAPET, TELANGANA');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `company`
--
ALTER TABLE `company`
  ADD PRIMARY KEY (`BID`);

--
-- Indexes for table `customer`
--
ALTER TABLE `customer`
  ADD PRIMARY KEY (`CID`),
  ADD KEY `BID1_FK` (`BID`) USING BTREE;

--
-- Indexes for table `delivers`
--
ALTER TABLE `delivers`
  ADD KEY `NAME_FK` (`NAME`),
  ADD KEY `BARCODE_FK` (`BARCODE`);

--
-- Indexes for table `drugs`
--
ALTER TABLE `drugs`
  ADD PRIMARY KEY (`BARCODE`);

--
-- Indexes for table `employee`
--
ALTER TABLE `employee`
  ADD PRIMARY KEY (`EID`),
  ADD UNIQUE KEY `EMAIL` (`EMAIL`),
  ADD KEY `BID` (`BID`);

--
-- Indexes for table `logs`
--
ALTER TABLE `logs`
  ADD PRIMARY KEY (`BARCODE`);

--
-- Indexes for table `pharmaceutical_company`
--
ALTER TABLE `pharmaceutical_company`
  ADD PRIMARY KEY (`NAME`);

--
-- Indexes for table `received`
--
ALTER TABLE `received`
  ADD KEY `BID_FK` (`BID`),
  ADD KEY `BARCODE_FK` (`BARCODE`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `customer`
--
ALTER TABLE `customer`
  MODIFY `CID` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=21;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `customer`
--
ALTER TABLE `customer`
  ADD CONSTRAINT `customer_ibfk_1` FOREIGN KEY (`BID`) REFERENCES `company` (`BID`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `delivers`
--
ALTER TABLE `delivers`
  ADD CONSTRAINT `delivers_ibfk_1` FOREIGN KEY (`NAME`) REFERENCES `pharmaceutical_company` (`NAME`),
  ADD CONSTRAINT `delivers_ibfk_2` FOREIGN KEY (`BARCODE`) REFERENCES `drugs` (`BARCODE`);

--
-- Constraints for table `employee`
--
ALTER TABLE `employee`
  ADD CONSTRAINT `employee_ibfk_1` FOREIGN KEY (`BID`) REFERENCES `company` (`BID`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `received`
--
ALTER TABLE `received`
  ADD CONSTRAINT `received_ibfk_1` FOREIGN KEY (`BID`) REFERENCES `company` (`BID`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
